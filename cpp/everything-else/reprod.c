/////////////////////////////////////////////////
//reprod.c
//a program that generates a replicative program.
//pl. refer to http://www.acm.org/classics/sep95/
/////////////////////////////////////////////////
//sample usage :
//gcc reprod.c
//a.out > son.c
//gcc son.c
//a.out > grandson.c
//diff son.c grandson.c
/////////////////////////////////////////////////

char p[] = 
{
'#',
'i',
'n',
'c',
'l',
'u',
'd',
'e',
' ',
'<',
's',
't',
'd',
'i',
'o',
'.',
'h',
'>',
'\n',
'\n',
'i',
'n',
't',
' ',
'm',
'a',
'i',
'n',
'(',
'v',
'o',
'i',
'd',
')',
'\n',
'{',
'\n',
'i',
'n',
't',
' ',
'i',
';',
'\n',
'p',
'r',
'i',
'n',
't',
'f',
'(',
'"',
'c',
'h',
'a',
'r',
' ',
'p',
'[',
']',
' ',
'=',
'\\',
'n',
'{',
'\\',
'n',
'"',
',',
' ',
'p',
',',
' ',
'p',
')',
';',
'\n',
'f',
'o',
'r',
' ',
'(',
'i',
'=',
'0',
';',
' ',
'p',
'[',
'i',
']',
';',
' ',
'i',
'+',
'+',
')',
'\n',
' ',
' ',
' ',
' ',
'p',
'r',
'i',
'n',
't',
'f',
'(',
'"',
'%',
'd',
',',
'\\',
'n',
'"',
',',
' ',
'p',
'[',
'i',
']',
')',
';',
'\n',
'p',
'r',
'i',
'n',
't',
'f',
'(',
'"',
'0',
'\\',
'n',
'}',
';',
'\\',
'n',
'\\',
'n',
'"',
')',
';',
'\n',
'p',
'r',
'i',
'n',
't',
'f',
'(',
'"',
'%',
's',
'\\',
'n',
'"',
',',
' ',
'p',
')',
';',
'\n',
'r',
'e',
't',
'u',
'r',
'n',
' ',
'0',
';',
'\n',
'}',
'\n',
0
};

#include <stdio.h>

int main(void)
{
    int i;
    printf("char p[] =\n{\n", p, p);
    for (i=0; p[i]; i++)
        printf("%d,\n", p[i]);
    printf("0\n};\n\n");
    printf("%s\n", p);
    return 0;
}

